{"version":3,"sources":["Components/Persons.js","Components/PersonForm.js","Services/persons.js","Components/Filter.js","Components/Notification.js","App.js","index.js"],"names":["Person","person","onClick","name","number","Persons","persons","map","key","PersonForm","onSubmit","onNameChange","onNumberChange","newName","newNumber","onChange","value","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Filter","input","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Error","App","useState","setPersons","setNewName","setNewNumber","filteredName","setFilteredName","notificationText","setNotificationText","errorText","setErrorText","useEffect","personService","initialPersons","namesToShow","filter","toLowerCase","startsWith","event","target","trimStart","preventDefault","personObject","personToChange","find","window","confirm","returnedPerson","setTimeout","concat","personToDelete","catch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a1276983.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({person,onClick}) =>{ \r\n\r\nreturn(\r\n    <div>\r\n<p>{person.name} {person.number}</p>\r\n<button onClick={onClick}>delete</button>\r\n\r\n</div>)}\r\n\r\nconst Persons = ({persons,onClick}) => persons.map(person => <Person onClick = {() => onClick(person)} key={person.name} person={person}/>)\r\n\r\nexport default Persons;","import React from 'react'\r\n\r\n\r\nconst PersonForm = ({onSubmit,onNameChange,onNumberChange,newName,newNumber}) => {\r\n\r\n\r\n    return(\r\n        <div>\r\n            <form onSubmit= {onSubmit}>\r\n        <div>\r\n         <p> name: <input onChange={onNameChange} value={newName}/></p>\r\n          <p>number: <input onChange={onNumberChange} value ={newNumber}/></p>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n        </div>\r\n    )\r\n}\r\nexport default PersonForm;","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\nconst deleteByID = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\nexport default { getAll, create, update,deleteByID }","import React from 'react'\r\n\r\nconst Filter = ({onChange,input}) =>{\r\n\r\n    return(\r\n        <div>\r\n            filter shown with <input onChange={onChange} value={input}/>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Filter;","import React from 'react'\r\n\r\nexport const Notification = ({ message }) => {\r\n  const notificationStyle = {\r\n     color: 'green',\r\n  background: 'lightgrey',\r\n  fontSize: 20,\r\n  borderStyle: 'solid',\r\n  borderRadius: 5,\r\n  padding: 10,\r\n  marginBottom: 10,\r\n  }\r\n\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={notificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n  export const Error = ({ message }) => {\r\n    const notificationStyle = {\r\n       color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n    }\r\n  \r\n      if (message === null) {\r\n        return null\r\n      }\r\n    \r\n      return (\r\n        <div style={notificationStyle}>\r\n          {message}\r\n        </div>\r\n      )\r\n    }\r\n","import React, { useState,useEffect } from 'react'\r\nimport Persons from './Components/Persons'\r\nimport PersonForm from './Components/PersonForm'\r\nimport personService from './Services/persons'\r\nimport Filter from './Components/Filter'\r\nimport {Notification,Error} from './Components/Notification'\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([\r\n  ]); \r\n  const [ newName, setNewName ] = useState('');\r\n  \r\n  const [newNumber,setNewNumber] = useState('');\r\n\r\n  const [filteredName,setFilteredName] = useState('');\r\n\r\n  const [notificationText,setNotificationText] = useState(null);\r\n  const [errorText,setErrorText] = useState(null);\r\n\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n        .then(initialPersons => {        setPersons(initialPersons)      })\r\n  }, [])\r\n  const updateName = (event) => {\r\n    setNewName(event.target.value);\r\n  }\r\n  const updateNumber = (event) => {\r\n    setNewNumber(event.target.value);\r\n  }\r\n\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    const personToChange = persons.find((person)=>person.name.toLowerCase()===newName.toLowerCase())\r\n    if(typeof personToChange !== 'undefined'){\r\n      if(window.confirm(`${newName} is already added to phonebook, replace number with new one?`)){\r\n        personService.update(personToChange.id,personObject)\r\n        .then(returnedPerson => {setPersons(persons.map((person)=> person.id===returnedPerson.id ? returnedPerson:person ))\r\n          setNotificationText(`Changed ${newName} address in the phonebook.`);\r\n          setTimeout(() => {setNotificationText(null)},5000);\r\n        })\r\n      };\r\n\r\n    }else{\r\n      personService.create(personObject)\r\n      .then(returnedPerson => {setPersons(persons.concat(returnedPerson)); \r\n        setNotificationText(`Added ${newName} to the phonebook.`);\r\n        setTimeout(() => {setNotificationText(null)},5000);\r\n      \r\n      })\r\n    }\r\n    setNewName(\"\");\r\n    setNewNumber(\"\");\r\n  }\r\n\r\n\r\n  const filterNames = (event)=> {\r\n    setFilteredName(event.target.value.trimStart());\r\n  }\r\n  const deletePerson = (personToDelete) => {\r\n    if(window.confirm(`confirm deletion of ${personToDelete.name}`)){\r\n      personService\r\n    .deleteByID(personToDelete.id)\r\n    .then(setPersons(persons.filter((person) => person.id!==personToDelete.id)))\r\n    .catch( () => {\r\n      setErrorText(`${personToDelete.name} has already been deleted please reload the page`);\r\n        setTimeout(() => {setErrorText(null)},5000);\r\n      \r\n    }\r\n      \r\n    )\r\n    }\r\n  }\r\n\r\n  const namesToShow=persons.filter((person)=> person.name.toLowerCase().startsWith(filteredName.toLowerCase()));\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notificationText}/>\r\n      <Error message={errorText}/>\r\n      <Filter onChange={filterNames} input={filteredName}/>\r\n      <h2>Add a new</h2>\r\n      <PersonForm onSubmit={addPerson} onNameChange={updateName} onNumberChange={updateNumber} newName={newName} newNumber={newNumber}/>\r\n      <h2>Numbers</h2>\r\n     <Persons persons={namesToShow} onClick={deletePerson}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}